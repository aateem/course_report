\documentclass[12pt,a4paper]{article}

%%% src settings
\usepackage[T2A]{fontenc}   % internal font encoding
\usepackage[utf8x]{inputenc} % text encoding 
\usepackage[russian]{babel} % document language specifics

%%% output geometry
\usepackage{geometry}
\geometry{left=2.5cm}
\geometry{right=2cm}
\geometry{top=2cm}
\geometry{bottom=2cm}

%%% math packages
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}

%%% listings settings
\usepackage{listings}
\lstset{
language=C++,
basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\scriptsize,        % the size of the fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,	                % adds a frame around the code
tabsize=4,	                    % sets default tabsize to 4 spaces
captionpos=t,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
%inputencoding=utf8/cp1251,
morekeywords={begin,declare,fetch,close,open,while,if,for},
}
\def\lstlistingname{\large Листинг}    % listings naming

%%% figures and tables captions
\makeatletter
\renewcommand{\fnum@figure}[1]{\large Рисунок ~\thefigure{} ---}
\renewcommand{\fnum@table}[1]{\large Таблица ~\thetable{} ---}
\makeatother

%%% text options
\usepackage{pscyr} % nice cyrillic fonts
\setlength{\parindent}{1.25cm}
\usepackage{indentfirst} % paragraph indentation
\usepackage{graphicx}
\usepackage{color}
\renewcommand{\arraystretch}{1.5} % tabular cell height factor

\usepackage{sectsty}
\sectionfont{\centering}


% tables
\usepackage{subfigure}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{float}

\usepackage[page,figure,section]{totalcount}

% enumeration
\usepackage{enumitem}
\setlist{label=\arabic*), itemsep=0cm, topsep=0cm, leftmargin=1.8cm }

%%% headings and footers
\usepackage{fancyhdr}
\pagestyle{fancy}
\lhead{}
\chead{}
\rhead{\thepage}
\lfoot{}
\cfoot{}
\rfoot{}
\renewcommand{\headrulewidth}{0pt}

% reference list
\addto\captionsrussian{\def\refname{\centerline{ПЕРЕЧЕНЬ ССЫЛОК}}}

\usepackage{appendix}
%\renewcommand{\appendixtocname}{ПРИЛОЖЕНИЯ}
%\renewcommand{\appendixpagename}{\centering \LARGE ПРИЛОЖЕНИЯ}

\usepackage[unicode,pdftex]{hyperref} % make hyper refs in pdf

% типа гост блеать
\renewcommand{\rmdefault}{ftm} % Times New Roman нахуй
\allsectionsfont{\normalfont\large} % типа не жирные заголовки
\sectionfont{\centering\normalfont\large}
\subsectionfont{\indent\normalfont}

\linespread{1.2} % 1.3 типа полуторный  интервал

\makeatletter
     \renewcommand*\l@section{\@dottedtocline{1}{0em}{1.8em}}
     \renewcommand*\l@subsection{\@dottedtocline{2}{1.5em}{2.0em}}
     \renewcommand*\l@subsubsection{\@dottedtocline{3}{4.3em}{3.0em}}
\makeatother

\begin{document}

% tables numbering
\numberwithin{table}{section}
% figures numbering
\numberwithin{figure}{section}
% listings numbering
\renewcommand*{\thelstlisting}{\arabic{section}.\arabic{lstlisting}}
\makeatletter \@addtoreset{lstlisting}{section} \makeatother

%%% document structure
\setcounter{page}{3} % begin from the 3th page
\include{title}
\include{review}

\newpage \renewcommand\thepage{}
\renewcommand\contentsname{СОДЕРЖАНИЕ \vspace{0.6cm}}
\tableofcontents
\newpage \renewcommand\thepage{\arabic{page}}


%%% document structure
\include{intro}
%\include{task}
\include{tech}
\include{program-implementation}
\include{outro}

\nocite*{}
\bibliographystyle{utf8gost780u}
\makeatletter
\renewcommand{\@biblabel}[1]{#1.}
\makeatother
\bibliography{lit}
\addcontentsline{toc}{section}{ПЕРЕЧЕНЬ ССЫЛОК}

\include{append}

\end{document}
